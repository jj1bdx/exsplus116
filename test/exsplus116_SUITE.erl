%% (MIT License)
%%
%% Copyright (c) 2014 Kenji Rikitake. All rights reserved.
%%
%% Permission is hereby granted, free of charge, to any person obtaining a copy of
%% this software and associated documentation files (the "Software"), to deal in
%% the Software without restriction, including without limitation the rights to
%% use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
%% of the Software, and to permit persons to whom the Software is furnished to do
%% so, subject to the following conditions:
%%
%% The above copyright notice and this permission notice shall be included in all
%% copies or substantial portions of the Software.
%%
%% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
%% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
%% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
%% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
%% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
%% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
%% SOFTWARE.

-module(exsplus116_SUITE).
-include_lib("common_test/include/ct.hrl").
-export([all/0]).
-export([testloop_test/1]).
 
all() ->
    [testloop_test].

-spec testloop(pos_integer()) -> list().

testloop(N) ->
    R = exsplus116:seed0(),
    testloop(N, R, []).

testloop(0, _, L) ->
    lists:reverse(L);
testloop(N, R, L) ->
    {V, R1} = exsplus116:next(R),
    testloop(N - 1, R1, [V|L]).

testloop_test(_Config) ->
    Refval = test_refval(),
    Testval = testloop(length(Refval)),
    case Refval =:= Testval of
        true -> ok;
        Else -> exit(Else)
    end.

test_refval() ->
    [
    124335337774335279,
    152383791718741823,
    260437717820818122,
    104452037866861088,
    233978384148441044,
    81351745288732094,
    277324912957754248,
    211718011006804929,
    82023324407635278,
    248866125662264019,
    136674849942508521,
    156125013880913787,
    179465193632188075,
    276914299446378680,
    62578694579081402,
    51186043662981825,
    77193664193417436,
    63723525264506943,
    238402084686755289,
    271218639526434953,
    92743707408958759,
    279517434223514176,
    107776797035735220,
    107320062403786880,
    73774111270178051,
    169961586208226693,
    226765106441816773,
    96404810823799844,
    279128801127151798,
    27304204435618896,
    76383515270175184,
    85747250007391536,
    232748050386424350,
    68432170629664248,
    7473361918216205,
    78044024038059640,
    91412759897287033,
    56520347065833151,
    233304711794666421,
    80181621615643331,
    150696741895309484,
    259031340371446277,
    150616779454131306,
    46257074468257184,
    276990226820875316,
    200313414295420507,
    285140930644254124,
    284617303498088476,
    109211773020105717,
    254708535079114303,
    192781317330089549,
    237378494309624360,
    184918557053937976,
    47569586936167539,
    206687082153746473,
    29555098162032245,
    282411268025006142,
    214194362731521789,
    269338363698774528,
    134136652125057799,
    113159456199204401,
    49640043114149677,
    10120341966525303,
    1030099455254426,
    154007071286169255,
    209368142847747351,
    228483081249993213,
    58016915328299167,
    179858744768301148,
    141126654823118072,
    10822285048978396,
    277561392785972161,
    21224085260887820,
    156945319562481378,
    22467847354713004,
    134120443863104239,
    175375930504781028,
    173702644346529772,
    45819368493375051,
    51856062313522493,
    110068406612168057,
    102888496674827195,
    129309350346038699,
    105147666618007840,
    247564664343333104,
    220676774207056715,
    268897348105674228,
    273637751353835697,
    175088445520987469,
    62884619810280687,
    214158206012069945,
    113745294969353608,
    247714591323288277,
    269835095479434210,
    77677743360441245,
    13343229890812029,
    6589495528515666,
    267367360262678042,
    7517849078773099,
    110668310997179786,
    261499583737512373,
    12607624414138479,
    54569016738228012,
    270788927481456418,
    160235780386630167,
    197861327917809277,
    46083218771854744,
    168775204172245513,
    227221042845487574,
    14544416997034588,
    178181922128714512,
    15508518193634385,
    117130414429565925,
    9862061522886708,
    50793966623361470,
    213716364926047061,
    158832329126842023,
    272200634565937814,
    1777677961443227,
    232417780676944149,
    269200456884818512,
    286218227453718857,
    37842659760257157,
    177031226884792200,
    14246534618377893,
    15783361243275412,
    126644697640407446,
    243603420451378485,
    245184464633579615,
    213776895736439831,
    56645237457776072,
    3749968251611244,
    10915566513072318,
    270064101768905687,
    52095475125748797,
    173061160992589197,
    45114034093266144,
    267732263452515604,
    40557050021735496,
    35725423374024664,
    62831152457540544,
    128905229847159976,
    200283017037885941,
    61653098773444327,
    141981202460018477,
    176350410819285903,
    125358627375684262,
    211720435127479309,
    228781746266189393,
    248875241437173037,
    216735400543818588,
    63715990406669306,
    58739652539781708,
    17237163737895845,
    202801559268293343,
    181491498440242088,
    83337545899572869,
    3701840792292537,
    33862885032970283,
    172360800837659506,
    242426573575278215,
    237005568258718286,
    240566973628800167,
    76142633621648032,
    29276150893347232,
    91359194215927717,
    130206827445067896,
    38299516268243950,
    155551580533772897,
    282173618613907049,
    225085479436332094,
    141578974586304288,
    282912651506943512,
    125470673698542613,
    40958687075929696,
    187737389225624412,
    114774026828310023,
    45321241224556601,
    16852782294116903,
    98675286969583298,
    89099528903976344,
    20770649273989829,
    245119377610115408,
    196156640368761023,
    133898502382080717,
    149867680436705303,
    121383791427659026,
    223562666775894219,
    278224626427361451,
    63042779515312563,
    282051677801263409,
    6658250230341617,
    170895432711557494,
    223563792139017697,
    104239437535392238,
    213755872417027116,
    62614999773774804,
    237223417485927539,
    8742619780556097,
    276991485340155081,
    125622369603934258,
    6746500755615157,
    84889475935370898,
    85739310551789759,
    60098771353991617,
    53935743311463112,
    129614127138246164,
    209136619639681932,
    121645752959577968,
    74618171731371087,
    185444897699748108,
    195273634365031194,
    218357269574529107,
    173425992031313091,
    216538517248410812,
    88815215889911232,
    25060756949120956,
    174374834541037070,
    146064068415804567,
    189632577371859018,
    111123223538069851,
    145654826854187783,
    54691157430695180,
    117702708653577531,
    235616549086479771,
    53629401762312405,
    162345337236329371,
    280619967238539000,
    331196508943808,
    37176162473985651,
    200765429802597019,
    62651813016395526,
    131909670417711754,
    200847136118016072,
    242151899428608787,
    24109524732861916,
    246113474178373632,
    210436862947618911,
    200443955309350568,
    116324839437372451,
    277938923252791040,
    217129331000264189,
    55572001588661435,
    24300432816680631,
    143853567791326633,
    17722200079037913,
    69888525491268880,
    250318594267882004,
    9069585635144968,
    142611510803629771,
    21472896300015960,
    16738795331907349,
    14332464726170373,
    248864972898264817,
    17132870796111992,
    178824787140290381,
    67281844992850169,
    11601650790858131,
    179945131577638907,
    108761906860107304,
    84956433559680408,
    173399745807091073,
    166222078119021048,
    79836443550399048,
    251429729290593428,
    64700899942146190,
    127457144098020449,
    84904559303196804,
    26609226448084865,
    252224139099059651,
    58460040046004926,
    74836628544693825,
    250544152412631986,
    222732014534744574,
    244195677002508164,
    106646330013955887,
    103544174961896805,
    174352799327284249,
    271085682938721525,
    277619526281602064,
    164494490368642588,
    247553082068874512,
    231141767358343832,
    195313685662539120,
    105963377337863950,
    138541650009475354,
    203280522460009151,
    250641875405065832,
    276323291638965925,
    111696709681331672,
    276624422299595763,
    115772030672828245,
    285847743957942676,
    139939520502241574,
    279897047531952959,
    113326375134980243,
    287014438478056346,
    234894785990023101,
    60147445408120284,
    247951171810423225,
    219406954811084915,
    190634664954237839,
    154912994914088193,
    270036725429442104,
    92290295224201483,
    27267463048936446,
    288226118794545627,
    190948363963015467,
    101360909152661493,
    91517317299625470,
    118600637281458976,
    19258119311862363,
    245526611166832724,
    5369465224321924,
    130940334053872797,
    128602960807730750,
    164895392848910210,
    177077487309202736,
    44720674942070672,
    185420011864958811,
    39462435966448862,
    158701082910184659,
    74805930329883885,
    116690725607176187,
    246905886514783372,
    76380653645034564,
    84646641826553924,
    242334120765344835,
    183135286518442940,
    63902418228209312,
    71395649413555482,
    73454182658040032,
    219490447690332732,
    244962423917835655,
    230889228751821758,
    192246704541443738,
    229697429764938410,
    40345996499995818,
    276017971380316953,
    255247074491642627,
    118709219031667020,
    55722877547606448,
    252332113093607372,
    20388639111525501,
    286642830168177591,
    282074300791204980,
    114239432510477019,
    51995910571498820,
    268207423270020500,
    166370717721647948,
    259977164288262057,
    196327596207349910,
    188935772441596546,
    93432026107749540,
    9977737270494250,
    261827889019430742,
    18368183212486791,
    50730553536436415,
    44973813160775579,
    232639365554657090,
    52428532760282455,
    196095055634623370,
    218293272795902294,
    170141127658587893,
    40267850884061827,
    141494262372100748,
    273475330323823138,
    109644869285274147,
    210360525345852513,
    279868124032794721,
    25579765088213910,
    287596781953180183,
    174332272329931469,
    129480058149687121,
    23525146623911421,
    269988046309077268,
    32781569682877789,
    235294672144929822,
    60745162649772055,
    246351829800415182,
    173795799010260121,
    6058121458913437,
    137673229224720315,
    154282427795494677,
    130604194605007173,
    203826520407348263,
    284257426343703545,
    75722195691073819,
    264801293737283938,
    229585447659520366,
    223377901916487713,
    259865354483911879,
    239023797591786441,
    105516371969103325,
    200880849624329436,
    150879319842343540,
    56978309366702221,
    245896539439484166,
    225407152996656784,
    154167812362053454,
    182120322397215097,
    98464686679188919,
    160031279530613615,
    70576246884075742,
    60532469676374627,
    62264712001959513,
    136998828649876956,
    287835729184568866,
    46193626386073376,
    197451103316605085,
    129934714785988754,
    177410771416084781,
    31940044284617718,
    132487690427780998,
    35376564326806299,
    244811378139091659,
    10628510192399361,
    143187692252381425,
    213446357599526638,
    39567956737215958,
    55128203879201006,
    209773056457929456,
    78870562686277655,
    283027635115423487,
    195126414636406991,
    233219551590131032,
    164810463599520218,
    97893276823215888,
    90175145121081166,
    268934410998503130,
    276290679075049100,
    8316326833930742,
    282286732693778448,
    39117210011754426,
    147275515455961526,
    31692470616814949,
    249494661882372781,
    241398957870084684,
    59132005083693291,
    16687622145474689,
    7766223007018584,
    131158283170059362,
    170823405011568038,
    4233959750183829,
    186592965149746033,
    150173370851487076,
    230158115661552785,
    1111030941456609,
    190304512918514197,
    43506886082445685,
    275490120251526515,
    247053529649549284,
    114415805089553831,
    190184048879841387,
    52337853227222713,
    45841043549841630,
    8749754585250578,
    20661310052215010,
    84506073747472881,
    181374601279914881,
    127559285341243093,
    47633037782036985,
    99819509527844498,
    117600835860311678,
    204301363433759211,
    252745252016717375,
    197499618930557157,
    146486815622763677,
    262986512847296997,
    102788809333589217,
    114240221320011654,
    236875559923053482,
    69243359566696167,
    203625934723327292,
    137152802901851522,
    118778841305536393,
    45670969817353801,
    65696164006897120,
    78714075504802010,
    15584908542031359,
    194533167536808355,
    190351596219986827,
    183812067212309904,
    23622656243323459,
    104605160624849385,
    208687288943194630,
    23710976447331981,
    125356926864105558,
    217113388758704449,
    238077183108222775,
    195214854512018121,
    234188453568856703,
    130577745397267963,
    175178628138813341,
    225220931490707980,
    140845630820859000,
    21267584887747418,
    247774965515278663,
    48156889136203934,
    284313797786614047,
    271492223152367949,
    234419252073844965,
    30431307385600986,
    275517626499023551,
    166103824053341923,
    56809531038063608,
    159528378574012143,
    53896730694146559,
    105116374259898939,
    231491429395694319,
    186256290555200163,
    280691341291794265,
    95802136698627790,
    55763169981352507,
    26892229406940596,
    276926059893068577,
    36877769590862268,
    139631716370343802,
    159756562960786024,
    135627091519040362,
    21624010704168490,
    98638776561340959,
    231159359828792252,
    255826915184404704,
    130868776749610496,
    40737479688929695,
    24817930814159095,
    137808629780985848,
    198095330479275420,
    62309228526174376,
    257506804137403681,
    52997003611596268,
    12983906873927426,
    141894653669681809,
    172554534526243640,
    67938030169240259,
    135956584746427726,
    170217569460824721,
    129617580698363732,
    144832141384200286,
    248981019718667182,
    134390751244911799,
    240055723444817663,
    175740854324064390,
    261183048186546003,
    122959829788573634,
    246210741961785780,
    182518346874276922,
    182181358622687278,
    274323698765217271,
    163590844848647985,
    117311694259151099,
    137052885257939187,
    220092297861628036,
    110749786446763292,
    169863905216396371,
    54592655665045606,
    72022553115790640,
    222203172398960200,
    181219119350159778,
    200305477896320755,
    42595499566060894,
    241297299824785050,
    35895592042032918,
    254367007474418912,
    84701330739538567,
    268569144033932814,
    271057644201314788,
    170430885225991886,
    62674588790221136,
    256103423958067469,
    105895016389190381,
    67562082669190317,
    19238394916112741,
    192087395478805821,
    163020742887017852,
    228369508362668549,
    245173428137849337,
    259578566439078307,
    83284307802921716,
    79256381626032029,
    212655149230301205,
    108859652716636795,
    93938750799501606,
    202715996619598177,
    95244941427415622,
    156155442887548342,
    134141129548674309,
    248700048177454953,
    220551636492398581,
    67283250398031463,
    172278079524765357,
    141236051377780742,
    231188161893253624,
    143937369563170872,
    162105095174333236,
    97336085484738104,
    198046870238402813,
    285639909656465889,
    32458561658644657,
    35836622542282935,
    17288326715927848,
    277033928667318421,
    263377302889233718,
    284400088421614999,
    86909441389922183,
    191295987085082724,
    181667706857435923,
    220241563850451724,
    83211190039429967,
    105580280866827184,
    99039017824548182,
    47379189355591735,
    14261726889367675,
    18859841886535265,
    36731504171927270,
    152555121289227300,
    134315669499869564,
    64590608786701467,
    202972986335712463,
    209775099872677946,
    233787502138418951,
    277540114216400273,
    150180427553367439,
    228650259620696633,
    123643846752786671,
    264500462043871620,
    139287840151246975,
    148153153081425295,
    198783434276950655,
    194402903898791304,
    208245413953305853,
    66216918197221263,
    16619510084634213,
    224870007465919199,
    118987229677772582,
    230287688099435794,
    165806075428134153,
    285713735212509122,
    172384262201192385,
    183548977175191130,
    130023098864885544,
    46855805728271286,
    44179178573450678,
    238030070353850681,
    248544573803807693,
    45250463296960833,
    145480626642490235,
    207563095434187590,
    48710899874384997,
    208878179070714321,
    6110045635019523,
    23309631723049358,
    135380304814732598,
    90361360341721584,
    278781795188770110,
    12841871515085765,
    8719487011002912,
    233029162136345677,
    209214404342547852,
    115594680277505824,
    164482686120685101,
    17405445470394532,
    237294025754735940,
    151699252464838120,
    112466268329259509,
    125143298387269861,
    184117798300389029,
    35888173074598909,
    249378804281892302,
    172979383013272780,
    249008361871152180,
    213943761474622306,
    160044291828631970,
    211454357578472805,
    232469029886139600,
    150995142882686047,
    52560145160935203,
    129464174764869050,
    34820233353998712,
    109178322835906148,
    260873435056041837,
    229948097583057275,
    100882986282535349,
    119106076066246312,
    206836423328264746,
    115827645482446277,
    13402272756400559,
    131667269621940721,
    142417657250900711,
    74237054331472870,
    162127785115042253,
    257786506671033563,
    136184770881736134,
    41084158908802465,
    205507448886074564,
    122320282508213226,
    216725618951662737,
    232943451236745220,
    60020846289824825,
    237020579386259195,
    199043752213345428,
    103221314375669400,
    287260962185439135,
    116713851864044377,
    282327224562813110,
    111426372739581872,
    231646087752123704,
    78144271331179204,
    156675845962798043,
    263887199778955,
    271577992029611539,
    233955280169217970,
    191971092410999110,
    936020467925434,
    26785169439634272,
    151589109269628553,
    141154419330045564,
    143222117930715066,
    126360687469548419,
    134782125369490312,
    247689140663076239,
    40730903992596040,
    230947230242667778,
    16901735770243870,
    88724979482606686,
    212874223183177710,
    273640747986662104,
    218862413214664882,
    128141387952788529,
    118192618205993940,
    125616892319528248,
    53975256103088116,
    80512447188169354,
    178962136848041053,
    29171141141036269,
    106022271157196354,
    35573006340165988,
    173615928228087749,
    280275975845834094,
    65782217765586331,
    63848615079938989,
    261933296635863794,
    64514467730932579,
    234122455312720711,
    245038420525093029,
    157663394683086123,
    107457004520481691,
    191222484822836881,
    266494565318242568,
    165690884416035824,
    282641770903684931,
    138234344060900896,
    43286522652234278,
    162154886614522271,
    51719612363481311,
    204954253834724897,
    125346611970221297,
    39363821051474698,
    168469417913148398,
    222149299324028489,
    269227785451038342,
    269816667941631147,
    103529052261841016,
    160043781263505241,
    47633134756346679,
    221809497054729826,
    204422228965635127,
    259493192182443033,
    133451384436944150,
    236053597176059279,
    81182738785409751,
    64020837893586826,
    86078912051832334,
    266097741887104902,
    215394740284051686,
    200157295788705391,
    271090578215599768,
    72005569209377078,
    101620201703282666,
    94828767327490727,
    212041513209195543,
    40316139378223159,
    260824951471558682,
    262840580978154979,
    87786304867891203,
    282670821157592751,
    61506698560354611,
    124342811321363552,
    77783498540724444,
    47135324141950864,
    115653250219068550,
    27095950304585600,
    258078325992903016,
    179996822563417407,
    84420439820363752,
    200173186153964171,
    14468022409276894,
    90890033359353564,
    7096639683847918,
    130033971811774390,
    172609339951504403,
    158817073124962914,
    255471410158036081,
    212609681794722238,
    19316998968917400,
    198940130990600602,
    228555715749658663,
    119823895250804896,
    28569031928132941,
    100175437923881385,
    222372130055045673,
    336269249449474,
    198005622383442553,
    104959729632011409,
    232437974762145003,
    21558433216759075,
    169055278073308102,
    211000352705457769,
    128193692571518489,
    210117727864247195,
    87696875774860849,
    7131379374465458,
    223032525939921197,
    204194668140066708,
    218167798342572488,
    12453505870764445,
    25682089850382358,
    208514922247303009,
    1337359898910981,
    112360397687158896,
    12084253445208844,
    203499124167163585,
    157086906131394555,
    255398164537674813,
    212944224714482866,
    178048085183695929,
    246880818311710335,
    233123652540917625,
    47790120627813140,
    245526538410209156,
    230575929402574078,
    131925441048046884,
    268833300214529829,
    35395658139875481,
    176767069199433722,
    85586390479674856,
    88857804577322908,
    175956213519617246,
    98208996216492849,
    161787345428901354,
    114650738053789799,
    221599537005703168,
    188892462078165193,
    176873631805465887,
    93470187907550145,
    26431007736328937,
    221478944725541844,
    161005914463848344,
    101139278832731279,
    25274625460907069,
    166251691748287395,
    54884169264440887,
    179677037039024364,
    19227795510107490,
    77862835471360229,
    58975042917800325,
    154882093530666485,
    11472655307832088,
    38798252702633541,
    196216030757684174,
    42017028414061958,
    223190835844081953,
    196004358649193729,
    118970737830179895,
    279932311707380924,
    54964698725886496,
    77199132039482863,
    144293991337176554,
    95848673339102554,
    158856390316330453,
    106441778895027131,
    188888964725820249,
    72375384931301171,
    226964300924839693,
    191496518828327532,
    274000042845504564,
    209847850649158972,
    104135324424716351,
    101967103202064738,
    239562046851640904,
    84787457441414251,
    21123643725168201,
    101149464504885737,
    57783309760284397,
    23332831303266149,
    205374858617440975,
    43143251646401817,
    158936029300131947,
    74571713913256890,
    42093285357441313,
    239303137650077311,
    104715468475078848,
    112616142058662394,
    139281332782395735,
    244787619198829742,
    7724260453767082,
    108210902004892008,
    134169880564271812,
    172050448804016842,
    13250973266136392,
    76016696255293571,
    9393498743152589,
    253931805404754706,
    72304199093004885,
    128533738790109766,
    942225073151110,
    77912803638006988,
    284992055112242713,
    182475907605537696,
    194361050377712285,
    85999930859881120,
    281804411113337569,
    249442390886465649,
    163366614950276381,
    133036697003274822,
    123992041424519947,
    42407607983793909,
    67030397661287688,
    117736467288858010,
    168363615627841940,
    146919219315986554,
    191780599102754821,
    53238322644980162,
    164988447997229005,
    41357210369979930,
    64107137087119798,
    83820960597032374,
    160952594710996395,
    29117413947162549,
    62593781091540520,
    16925985428552084,
    37935796888973641,
    9000255023595039,
    258707056597167725,
    259931918499183810,
    108469872334344448,
    74671183510771990,
    101627153214581346,
    146216655898966500,
    94425080757139866,
    93345007918871813,
    19799251132699841,
    90434449858189797,
    114624287433686368,
    214760721784305736,
    54851053557861010,
    224407805076883438,
    287561449114219423,
    228269358935656273,
    37698463433859523,
    42339250400547354,
    257312576025001989,
    139473568212110531,
    112453704306351937,
    236758832911817582,
    153220585768163674,
    226487258600088203,
    102179137924805758,
    16191812890477081,
    93017131811899195,
    236662253870686156,
    27805842623889658,
    109325971213695287,
    62316192701260135,
    259030038883494403,
    250365027353377849,
    4260745160776252,
    224742134466410484,
    218794132707550910,
    145887907944244701,
    17552960684078390,
    124474780283554056,
    170605908210434736,
    124391316093359958,
    180269435619710077,
    186245867229553199,
    122414475129660289,
    142475758246915642,
    220732535439150514,
    43005873760171987,
    274076288869043324,
    34126336878430250,
    175290214873847616,
    67771012776340230,
    221791318502113706,
    192767702056779802,
    146783015458345180,
    231808001482645163,
    64541700470050479
    ].
